init: tofu init
plan: tofu plan -input=false -state=$STATE_FILE -detailed-exitcode
outputs: tofu output -state=$STATE_FILE -json | jq 'map_values(.value)'  > $OUTPUT_FILE
apply: VARS=$(echo $INPUTS | jq -r "to_entries | map(\"-var \" + .key + \"=\" + (.value | tostring)) | join(\" \")") && tofu apply -state=$STATE_FILE -auto-approve $VARS
destroy: VARS=$(echo $INPUTS | jq -r "to_entries | map(\"-var \" + .key + \"=\" + (.value | tostring)) | join(\" \")") && tofu destroy -state=$STATE_FILE -auto-approve $VARS
